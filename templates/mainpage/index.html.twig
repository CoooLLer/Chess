{% extends 'base.html.twig' %}

{% block title %}Chess{% endblock %}

{% block body %}
    <div class="row">
        <div class="col-lg-12 text-center">
            <h1 class="mt-5">Chess movements</h1>
            {{ form_start(form) }}
            {{ form_widget(form) }}
            <input type="submit" class="btn btn-default" value="Submit">
            {{ form_end(form) }}
            <h2>Game board</h2>
            <table class="table table-small">
                <tr>
                    <td></td>
                    <td>a</td>
                    <td>b</td>
                    <td>c</td>
                    <td>d</td>
                    <td>e</td>
                    <td>f</td>
                    <td>g</td>
                    <td>h</td>
                    <td></td>
                </tr>
                {% for row in board %}
                    <tr class="chess-row">
                        <td>{{ 9 - loop.index }}</td>
                        {% for column in row %}
                            <td class="chess-piece{% if (loop.parent.loop.index + loop.index) % 2 != 0 %} black-square{% endif %}">{{ column | chessSymbolToFontawesomeIcon }}</td>
                        {% endfor %}
                        <td>{{ 9 - loop.index }}</td>
                    </tr>
                {% endfor %}
                <tr>
                    <td></td>
                    <td>a</td>
                    <td>b</td>
                    <td>c</td>
                    <td>d</td>
                    <td>e</td>
                    <td>f</td>
                    <td>g</td>
                    <td>h</td>
                    <td></td>
                </tr>
            </table>

            <h2>Possible moves</h2>

            <ul>
            {% for move in moves %}
                <li>Piece: {{ move.pieceName }}. From position {{ move.from }} to {{ move.to }} with mode {{ move.flagsNames }}</li>
            {% endfor %}
            </ul>
        </div>
    </div>
{% endblock %}
